<!doctype html>
<html lang="en" data-lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tour Maker | Spiritual Services</title>
  <meta name="description" content="Build a tour itinerary: search locations, add, autosave, download, and send on WhatsApp." />
  <meta name="theme-color" content="#d97706" />
  <link rel="stylesheet" href="assets/css/theme-saffron.css" />
  <link rel="stylesheet" href="assets/css/tour-maker.css" />
  <link rel="stylesheet" href="assets/css/experiences.css" />
</head>
<body>
  <div data-include="includes/header.html"></div>

  <section class="pp-hero">
    <div class="pp-container">
      <div class="pp-hero-card">
        <h1 data-i18n="tourMakerTitle">Tour Maker</h1>
        <p class="pp-muted" data-i18n="tourMakerSubtitle">
          Search locations, add to itinerary, autosave, download, and share on WhatsApp.
        </p>
      </div>
    </div>
  </section>

  <main class="pp-container" style="padding-bottom:40px">
    <div class="tm-grid">
      <section class="tm-card">
        <div class="pp-label" data-i18n="tourMakerSearchLabel">Search locations</div>
        <div class="tm-searchrow">
          <input id="tmSearch" type="search" data-i18n-placeholder="tourMakerSearchPh" placeholder="Type: Kashi, Ayodhya, Prayagraj, Chitrakoot‚Ä¶" autocomplete="off" />
        </div>

        <!-- ‚úÖ NEW: search mode toggle -->
        <div class="tm-toggle" role="group" aria-label="Search mode" style="margin-top:10px; display:flex; gap:10px; flex-wrap:wrap">
          <button id="tmModeStrict" class="pp-btn pp-btn--ghost" type="button" aria-pressed="true">
            üîí Verified (locations.json)
          </button>
          <button id="tmModeHybrid" class="pp-btn pp-btn--ghost" type="button" aria-pressed="false">
            üåç Everywhere (OSM fallback)
          </button>
        </div>
        <div class="pp-muted" id="tmModeHint" style="margin-top:8px">
          Verified mode searches only your curated master data (fast, accurate, always has lat/lng).
        </div>

        <div class="tm-list" id="tmResults"></div>

        <p class="pp-muted" style="margin-top:10px">
          Tip: Choose a search mode: <b>Verified</b> uses locations.json only; <b>Everywhere</b> adds OpenStreetMap fallback.
        </p>
      </section>

      <section class="tm-card">
        <div class="pp-label" data-i18n="tourMakerPlanLabel">Your itinerary</div>
        <div id="tmItinerary" class="tm-itinerary"></div>

        <div class="tm-actionsbar">
          <button class="pp-btn" id="tmBtnSave" type="button" data-i18n="tourMakerSaveBtn">Save</button>
          <button class="pp-btn pp-btn--ghost" id="tmBtnClear" type="button" data-i18n="tourMakerClearBtn">Clear</button>
          <button class="pp-btn pp-btn--ghost" id="tmBtnDownload" type="button" data-i18n="tourMakerDownloadBtn">Download</button>
          <a class="pp-btn" id="tmBtnWhatsApp" target="_blank" rel="noopener" data-i18n="tourMakerWhatsAppBtn">Send WhatsApp</a>
          <a class="pp-btn pp-btn--ghost" href="route.html" data-i18n="routeMapBtn">Route Map</a>
        </div>

        <div class="pp-label" style="margin-top:16px" data-i18n="tourMakerNotesLabel">Notes (optional)</div>
        <textarea id="tmNotes" class="tm-notes" rows="5" placeholder="e.g., start time, hotel pickup, special rituals‚Ä¶"></textarea>
      </section>
    </div>
  </main>

  <div data-include="includes/footer.html"></div>

  <script src="assets/js/includes.js"></script>
  <script src="assets/js/i18n.js"></script>
  <script src="assets/js/tour-maker.js"></script>
</body>
</html>